# EVA API Environment Configuration
# Production Azure Integration Testing

# DISABLE mock mode to test real Azure services
EVA_MOCK_MODE=false

# Azure service timeouts (seconds) - increased for real operations
EVA_AZURE_TIMEOUT=10

# Enable circuit breaker for resilience
EVA_ENABLE_CIRCUIT_BREAKER=true

# Azure Cosmos DB (Required)
# Get from: Azure Portal → Cosmos DB → Keys
COSMOS_DB_ENDPOINT=https://eva-suite-cosmos-dev.documents.azure.com:443/
COSMOS_DB_KEY=46LQIWOLxSBYtifAgcikY2DAlx4RuEFkXXDPsR0rO732sHy6dnye2m9noc3G1DDNn1NH3DF7S0r6ACDbTawlbg==
COSMOS_DB_DATABASE=eva-core
COSMOS_DB_CONTAINER_API_KEYS=api_keys
COSMOS_DB_CONTAINER_AUDIT_LOGS=audit_logs

# Azure Blob Storage (Required)
# Get from: Azure Portal → Storage Account → Access Keys
AZURE_STORAGE_ACCOUNT_NAME=evasuitestoragedev
AZURE_STORAGE_ACCOUNT_KEY=fP33tshHPoUYXP1p1EhRDCFfyR60+D1pi2Jnh6809mB5mvHdG1ki6xP3JsOVWVXE5ywUHO939S9R+AStZ0YSOQ==
AZURE_STORAGE_CONTAINER_DOCUMENTS=documents

# Azure OpenAI (Required)
# Get from: Azure Portal → Azure OpenAI → Keys and Endpoint
AZURE_OPENAI_ENDPOINT=https://canadacentral.api.cognitive.microsoft.com/
AZURE_OPENAI_KEY=f27da20194c64167b83e66f736d03857
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# Azure Entra ID (Required for JWT authentication)
# Get from: Azure Portal → Entra ID → App Registrations → EVA Suite
AZURE_ENTRA_TENANT_ID=bfb12ca1-7f37-47d5-9cf5-8aa52214a0d8
AZURE_ENTRA_CLIENT_ID=e6b439ec-8ff5-43e9-b54c-90c0db989792
AZURE_ENTRA_CLIENT_SECRET=xIi8Q~8R1No1DtMOkEK2ddIwZAEhHR~kTQ3Q4ajx

# JWT Configuration for Entra ID
JWT_ISSUER=https://login.microsoftonline.com/bfb12ca1-7f37-47d5-9cf5-8aa52214a0d8/v2.0
JWT_AUDIENCE=e6b439ec-8ff5-43e9-b54c-90c0db989792
JWT_ALGORITHM=RS256

# Redis Configuration (Phase 2 - Rate Limiting & Caching)
# For development: Local Redis on default port
# For production: Azure Cache for Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_SSL=false
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10
