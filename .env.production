# EVA API Production Environment Configuration
# Generated: 2025-12-08
# IMPORTANT: Update all placeholder values with actual production credentials

# ==================== Application ====================
EVA_API_VERSION=1.0.0
ENVIRONMENT=production
DEBUG=false
EVA_MOCK_MODE=false

# Enable resilience features
EVA_ENABLE_CIRCUIT_BREAKER=true
EVA_AZURE_TIMEOUT=30
HTTP_TIMEOUT=10

# ==================== Azure OpenAI ====================
# Get from: Azure Portal → Azure OpenAI → Keys and Endpoint
AZURE_OPENAI_ENDPOINT=https://canadacentral.api.cognitive.microsoft.com/
AZURE_OPENAI_KEY=f27da20194c64167b83e66f736d03857
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# ==================== Azure Cosmos DB ====================
# Get from: Azure Portal → Cosmos DB → Keys
COSMOS_DB_ENDPOINT=https://eva-suite-cosmos-dev.documents.azure.com:443/
COSMOS_DB_KEY=46LQIWOLxSBYtifAgcikY2DAlx4RuEFkXXDPsR0rO732sHy6dnye2m9noc3G1DDNn1NH3DF7S0r6ACDbTawlbg==
COSMOS_DB_DATABASE=eva-core-prod

# Container names (created automatically)
COSMOS_DB_CONTAINER_API_KEYS=api_keys
COSMOS_DB_CONTAINER_AUDIT_LOGS=audit_logs
COSMOS_DB_CONTAINER_SPACES=spaces
COSMOS_DB_CONTAINER_QUERIES=queries
COSMOS_DB_CONTAINER_WEBHOOKS=webhooks
COSMOS_DB_CONTAINER_WEBHOOK_LOGS=webhook_logs
COSMOS_DB_CONTAINER_WEBHOOK_DLQ=webhook_dead_letter_queue

# ==================== Azure Blob Storage ====================
# Get from: Azure Portal → Storage Account → Access Keys
AZURE_STORAGE_ACCOUNT_NAME=evasuitestoragedev
AZURE_STORAGE_ACCOUNT_KEY=fP33tshHPoUYXP1p1EhRDCFfyR60+D1pi2Jnh6809mB5mvHdG1ki6xP3JsOVWVXE5ywUHO939S9R+AStZ0YSOQ==
AZURE_STORAGE_CONTAINER_DOCUMENTS=documents

# ==================== Azure Entra ID (JWT Authentication) ====================
# Get from: Azure Portal → Entra ID → App Registrations → EVA Suite
AZURE_ENTRA_TENANT_ID=bfb12ca1-7f37-47d5-9cf5-8aa52214a0d8
AZURE_ENTRA_CLIENT_ID=e6b439ec-8ff5-43e9-b54c-90c0db989792
AZURE_ENTRA_CLIENT_SECRET=xIi8Q~8R1No1DtMOkEK2ddIwZAEhHR~kTQ3Q4ajx

# JWT Configuration
JWT_ISSUER=https://login.microsoftonline.com/bfb12ca1-7f37-47d5-9cf5-8aa52214a0d8/v2.0
JWT_AUDIENCE=e6b439ec-8ff5-43e9-b54c-90c0db989792
JWT_ALGORITHM=RS256
JWT_SECRET_KEY=u3XNU/g+3k5GiDx4yl3AKSZdUKJlODUxxSl0enxDv2Y=
JWT_EXPIRATION_MINUTES=60

# ==================== Redis Cache ====================
# For production: Azure Cache for Redis
# Get from: Azure Portal → Azure Cache for Redis → Access Keys
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_SSL=false
REDIS_DB=0

# ==================== Security ====================
API_KEY_SALT=5D4DR/dMEo+IR4GPUWwtpXtyZfOvQKI7LBea8pggNH8=

# CORS - Update with your production domains
CORS_ORIGINS=["https://your-frontend-domain.com", "https://www.your-domain.com", "https://api.your-domain.com"]

# Rate Limiting (tiered by user tier)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_FREE=50/minute
RATE_LIMIT_BASIC=200/minute
RATE_LIMIT_PRO=1000/minute
RATE_LIMIT_ENTERPRISE=5000/minute

# ==================== Logging ====================
LOG_LEVEL=INFO
LOG_FORMAT=json

# Application Insights (optional but recommended)
# Get from: Azure Portal → Application Insights → Properties
APPLICATIONINSIGHTS_CONNECTION_STRING=InstrumentationKey=REPLACE-WITH-YOUR-KEY;IngestionEndpoint=https://YOUR-REGION.in.applicationinsights.azure.com/

# ==================== Webhook Configuration ====================
WEBHOOK_MAX_RETRIES=5
WEBHOOK_RETRY_DELAY=2
WEBHOOK_TIMEOUT=10
WEBHOOK_MAX_DELIVERIES_PER_SECOND=50

# ==================== Performance Tuning ====================
# Cosmos DB throughput (RU/s)
COSMOS_DB_THROUGHPUT=1000

# DataLoader batch settings
DATALOADER_BATCH_SIZE=100
DATALOADER_CACHE_TTL=300

# GraphQL settings
GRAPHQL_MAX_DEPTH=10
GRAPHQL_MAX_COMPLEXITY=200

# ==================== Health Check Configuration ====================
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_INTERVAL=30

# ==================== Feature Flags ====================
ENABLE_GRAPHQL_SUBSCRIPTIONS=true
ENABLE_WEBHOOK_DELIVERY=true
ENABLE_DATALOADER_OPTIMIZATION=true
ENABLE_REDIS_PUBSUB=true

# ==================== Deployment Info ====================
# These will be set by deployment pipeline
# DEPLOYMENT_VERSION=
# DEPLOYMENT_TIMESTAMP=
# DEPLOYMENT_COMMIT_SHA=
